<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>About｜Kido Sotaro</title>
  <meta name="description" content="プロフィール・略歴・スキル・実績" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Inter", "Noto Sans JP", "system-ui", "sans-serif"] },
          colors: { brand: { DEFAULT: "#81c7d7" } },
          lineHeight: {
            '24px': '24px'
          }
        }
      },
      darkMode: 'class'
    };
    // ライトモードを常に有効にする
    document.documentElement.classList.add('light');
    // もしlocalStorageのthemeがlightなら無視する
    localStorage.setItem('theme', 'light');
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+JP:wght@300;500;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/common.css">
  <style>
    /* pタグのフォントカラーを指定 */
    p {
      color: #111827;
    }

    @media (prefers-color-scheme: dark) {
      p {
        color: #111827;
      }
    }
  </style>

  <style>
    p {
      color: #111827;
    }

    @media (prefers-color-scheme: dark) {
      p {
        color: #111827;
      }
    }

    .ratio {
      position: relative;
      width: 100%;
      padding-top: 62.5%
    }

    .ratio>img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 1rem
    }

    #grid1 article,
    #grid2 article {
      border-radius: 0.2rem !important;
    }

    .ratio>img {
      border-radius: 0.2rem !important;
    }

    /* 横スクロール用スタイル */
    .horizontal-section {
      position: relative;
      width: 100%;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      overflow: hidden;
      padding-bottom: 80px;
      /* background: #f9fafb; */
      /* header高さ分だけ下げる */
      margin-top: 80px;
    }

    .horizontal-scroll {
      display: flex;
      flex-direction: row;
      gap: 1.5rem;
      width: max-content;
      min-height: 420px;
      padding: 0 0 0 0;
      /* 横スクロールを有効にする */
      will-change: transform;
    }

    .scroll-item {
      flex: 0 0 340px;
      max-width: 340px;
      min-width: 280px;
      margin: 0;
    }

    @media (max-width: 1024px) {
      .horizontal-section {
        max-width: 98vw;
      }
    }

    @media (max-width: 640px) {
      .horizontal-section {
        max-width: 100vw;
        margin-left: 0;
        margin-right: 0;
      }

      .horizontal-scroll {
        padding: 0 4vw 0 4vw;
      }

      .scroll-item {
        flex-basis: 80vw;
        max-width: 90vw;
        min-width: 70vw;
      }
    }

    .scroll-indicator {
      flex: 0 0 220px;
      max-width: 220px;
      min-width: 180px;
      align-self: center;
    }

    .section-header {
      position: fixed;
      left: 0;
      top: 72px;
      /* header height */
      z-index: 40;
      width: 100vw;
      pointer-events: none;
      transition: opacity 0.4s;
      height: 120px;
      background: transparent;
    }

    .section-header-inner {
      display: flex;
      align-items: end;
      justify-content: space-between;
      gap: 1.5rem;
      padding-left: 2vw;
      padding-right: 2vw;
      padding-top: 0.5em;
      padding-bottom: 0.5em;
      background: transparent;
      pointer-events: auto;
      height: 80px;
    }

    .section-header .fade {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s;
    }

    .section-header .show {
      opacity: 1;
      pointer-events: auto;
      transition: opacity 0.4s;
    }

    @media (max-width: 640px) {
      .section-header-inner {
        padding-left: 4vw;
        padding-right: 4vw;
      }
    }

    /* mainのpadding-topをheader分だけに */
    main {
      padding-top: 72px !important;
    }

    /* 追加: スマホでもprofile headerをstickyにする */
    @media (max-width: 1023px) {
      #profile {
        position: sticky !important;
        top: 72px !important;
        z-index: 30;
      }
    }

    /* 余白対策: body, html, #app, main, .main-container, .mx-auto, .max-w-6xl, .px-4, .sm\:px-6, .lg\:px-8, .pt-\[64px\], .pb-\[0px\] などの高さを100%にし、footerを下部に固定しやすくする */
    html,
    body {
      height: 100%;
      min-height: 100%;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1 0 auto;
      min-height: 0;
    }

    /* 追加: メインラッパーの高さを100%にし、footerが下に来るように */
    .main-container-fix {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    /* 追加: フッターの余白を減らす */
    footer {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }
  </style>
  <!-- GSAP & ScrollTriggerをCDNで追加 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</head>

<body class="bg-white text-zinc-800 antialiased dark:bg-zinc-950 dark:text-zinc-100 font-sans">



  <!-- ===== Header（1つ目のコード由来／テーマ切替＋モバイルNav） ===== -->
  <header
    class="fixed inset-x-0 top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-white/70 dark:supports-[backdrop-filter]:bg-zinc-900/70 border-b border-zinc-200/70 dark:border-zinc-800/70">
    <div class="mx-auto w-full px-4 sm:px-6 lg:px-8 flex items-center justify-between h-[72px]">
      <!-- 左側：ロゴ -->
      <a href="index.html" class="font-extrabold tracking-tight text-lg">Kido Sotaro</a>

      <!-- 右側：ナビ or ハンバーガー -->
      <div class="flex items-center gap-2">
        <!-- PC表示用ナビ -->
        <nav class="hidden sm:flex gap-6 text-sm">
          <a data-nav href="#profile" class="font-bold text-brand" id="nav-about">About</a>
          <a data-nav href="#works" class="hover:text-brand" id="nav-works">Works</a>
          <a data-nav href="#contact" class="hover:text-brand" id="nav-contact">Contact</a>
        </nav>

        <!-- モバイル表示用ボタン -->
        <button id="menuBtn" class="sm:hidden rounded-xl border border-zinc-300/70 dark:border-zinc-700 p-2"
          aria-label="メニュー">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="1.5">
            <path d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <div id="mobileNav" class="sm:hidden hidden border-t border-zinc-200 dark:border-zinc-800">
      <nav class="mx-auto max-w-6xl px-4 py-3 flex flex-col gap-3 text-sm">
        <a data-nav href="#profile" class="font-bold text-brand" id="mnav-about">About</a>
        <a data-nav class="hover:text-brand" href="#works" id="mnav-works">Works</a>
        <a data-nav class="hover:text-brand" href="#contact" id="mnav-contact">Contact</a>
      </nav>
    </div>
    <script>
      // ナビゲーションのidに移動したらfont-bold text-brandを付与
      function updateNavHighlight() {
        // PCナビ
        const navLinks = [
          { id: "nav-about", target: "#profile", hash: "#profile" },
          { id: "nav-works", target: "#works", hash: "#works" },
          { id: "nav-contact", target: "#contact", hash: "#contact" }
        ];
        // モバイルナビ
        const mnavLinks = [
          { id: "mnav-about", target: "#profile", hash: "#profile" },
          { id: "mnav-works", target: "#works", hash: "#works" },
          { id: "mnav-contact", target: "#contact", hash: "#contact" }
        ];

        // 現在のスクロール位置で一番上に近いセクションを探す
        const sectionIds = ["about", "works", "contact"];
        const sectionTops = sectionIds.map(id => {
          const el = document.getElementById(id);
          if (!el) return { id, top: Infinity };
          const rect = el.getBoundingClientRect();
          return { id, top: rect.top };
        });

        // 画面上部に一番近い（かつtop <= 80px）セクションを選ぶ
        let activeSection = "about";
        for (let i = 0; i < sectionTops.length; ++i) {
          if (sectionTops[i].top <= 80) activeSection = sectionTops[i].id;
        }

        // PCナビ
        navLinks.forEach(link => {
          const el = document.getElementById(link.id);
          if (!el) return;
          el.classList.remove("font-bold", "text-brand");
          if (
            (activeSection === "about" && link.id === "nav-about") ||
            (activeSection === "works" && link.id === "nav-works") ||
            (activeSection === "contact" && link.id === "nav-contact")
          ) {
            el.classList.add("font-bold", "text-brand");
          }
        });
        // モバイルナビ
        mnavLinks.forEach(link => {
          const el = document.getElementById(link.id);
          if (!el) return;
          el.classList.remove("font-bold", "text-brand");
          if (
            (activeSection === "about" && link.id === "mnav-about") ||
            (activeSection === "works" && link.id === "mnav-works") ||
            (activeSection === "contact" && link.id === "mnav-contact")
          ) {
            el.classList.add("font-bold", "text-brand");
          }
        });
      }

      // スクロール時にハイライトを更新
      window.addEventListener("scroll", updateNavHighlight, { passive: true });
      // 初回
      document.addEventListener("DOMContentLoaded", updateNavHighlight);

      // ハッシュ遷移時にも対応
      window.addEventListener("hashchange", updateNavHighlight);

      // ナビクリック時にスムーズスクロール
      document.querySelectorAll('a[data-nav][href^="#"]').forEach(a => {
        a.addEventListener("click", function (e) {
          const id = this.getAttribute("href").replace("#", "");
          const el = document.getElementById(id);
          if (el) {
            e.preventDefault();
            const y = el.getBoundingClientRect().top + window.scrollY - 72; // header高さ
            window.scrollTo({ top: y, behavior: "smooth" });
          }
        });
      });
    </script>
  </header>

  <!-- ===== Main ===== -->
  <main class="pt-16" style="min-height:0;">
    <!--
      ここで指定した色（--profile-gradient-color: #8000ff;）を背景色として機能させるには、style属性でbackground-colorに指定します。
    -->
    <div class="main-container-fix mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pt-[40px] pb-5"
      style="background-color: #83c2ce; min-height:100vh; box-shadow: 0 0 0 100vmax #f9fafb; clip-path: inset(0 -100vmax); box-shadow: 0 0 0 100vmax #f9fafb; clip-path: inset(0 -100vmax);"
      >
      <div style="position:fixed; inset:0; pointer-events:none; z-index:0;">
        <div style="position:absolute; left:-100vmax; top:0; width:100vmax; height:100%; filter:blur(2rem); background:#83c2ce"></div>
        <div style="position:absolute; right:-100vmax; top:0; width:100vmax; height:100%; filter:blur(2rem); background:#83c2ce"></div>
      </div>
      <!-- 
        色を指定したい場合は、sectionタグにstyle属性でbackground-colorなどを指定できます。
        例: <section style="background-color: #f0f0f0;">
        もしくはclassでTailwindのbg-色名を使うこともできます。
      -->
      <section id="profile" style="background-color: #f9fafb;">
        <!-- headerの描画とアニメーション定義 -->
        <header class="md:pt-[0px] lg:sticky lg:top-[120px] lg:self-start">
          <div class="flex flex-col items-start gap-2">
            <h1 class="leading-none tracking-tight text-left"
              style="font-weight:320; font-size:clamp(64px,8vw,80px); letter-spacing:-.02em; position:relative;">
              <span id="portfolio-progress" style="position:relative; display:inline-block; line-height:1;">
                <span class="portfolio-text" style="color:#111827; position:relative; z-index:1;">PROFILE</span>
                <span class="portfolio-gradient" style="
                pointer-events:none;
                position:absolute;
                left:0; top:0;
                width:100%; height:100%;
                display:block;
                z-index:2;
                -webkit-text-fill-color: transparent;
                -webkit-background-clip: text;
                background-clip: text;
                background: linear-gradient(to top, #81c7d7 0%, transparent 0%);
                color: #81c7d7;
                transition: background 0.2s;
              ">PROFILE</span>
              </span>
            </h1>
            <span id="portfolio-progress-ja" class="text-sm text-gray-500">プロフィール</span>
          </div>
        </header>
        <script>
          // スクロール進捗に応じて文字と色・グラデーションを変化させる
          (function () {
            const wrapper = document.getElementById('portfolio-progress');
            const text = wrapper.querySelector('.portfolio-text');
            const grad = wrapper.querySelector('.portfolio-gradient');
            const ja = document.getElementById('portfolio-progress-ja');

            // 進捗に応じて表示するテキスト（PC用）
            const progressTexts = [
              { threshold: 0.0, label: "PROFILE", ja: "プロフィール" },
              { threshold: 0.5, label: "WORKS", ja: "研究/作品" },
              { threshold: 0.7, label: "CORPORATION", ja: "制作協力" },
              { threshold: 0.9, label: "CONTACT", ja: "ご連絡" },
              { threshold: 1.0, label: "CONTACT", ja: "ご連絡" }
            ];

            // 進捗に応じて表示するテキスト（モバイル用）
            const mobileProgressTexts = [
              { threshold: 0.0, label: "PROFILE", ja: "プロフィール" },
              { threshold: 0.02, label: "", ja: "" },
              { threshold: 0.48, label: "WORKS", ja: "研究/作品" },
              { threshold: 0.7, label: "CORPORATION", ja: "制作協力" },
              { threshold: 0.9, label: "CONTACT", ja: "ご連絡" },
              { threshold: 1.0, label: "CONTACT", ja: "ご連絡" }
            ];

            function lerpColor(a, b, t) {
              return Math.round(a + (b - a) * t);
            }
            function clamp(v, min, max) {
              return Math.max(min, Math.min(max, v));
            }
            function getProgressText(progress, isMobile) {
              const arr = isMobile ? mobileProgressTexts : progressTexts;
              for (let i = arr.length - 1; i >= 0; --i) {
                if (progress >= arr[i].threshold) {
                  return arr[i];
                }
              }
              return arr[0];
            }
            function isMobileScreen() {
              // 640px未満をモバイルとみなす（Tailwind sm: breakpoint）
              return window.innerWidth < 640;
            }
            function updatePortfolioProgress() {
              // スクロール進捗
              const scrollTop = window.scrollY || window.pageYOffset;
              const docHeight = document.documentElement.scrollHeight - window.innerHeight;
              let progress = docHeight > 0 ? scrollTop / docHeight : 0;
              progress = clamp(progress, 0, 1);

              // 画面サイズによってテキスト配列を切り替え
              const isMobile = isMobileScreen();
              const progressText = getProgressText(progress, isMobile);
              const newText = progressText.label;
              const newJa = progressText.ja;
              if (text.textContent !== newText) {
                text.textContent = newText;
                grad.textContent = newText;
              }
              if (ja && ja.textContent !== newJa) {
                ja.textContent = newJa;
              }

              // 黒 (#000) から むらさき (#8000ff) への色変化
              const start = { r: 0, g: 0, b: 0 };
              const end = { r: 128, g: 0, b: 255 };
              const r = lerpColor(start.r, end.r, progress);
              const g = lerpColor(start.g, end.g, progress);
              const b = lerpColor(start.b, end.b, progress);
              text.style.color = `rgb(${r},${g},${b})`;

              // 下から上にたまるグラデーション
              const percent = Math.round(progress * 100);
              grad.style.background = `linear-gradient(to top, #81c7d7 0%, #81c7d7 ${percent}%, transparent ${percent}%, transparent 100%)`;
              grad.style.webkitBackgroundClip = "text";
              grad.style.backgroundClip = "text";
              grad.style.webkitTextFillColor = "transparent";
              grad.style.textFillColor = "transparent";
              grad.style.opacity = percent > 0 ? 1 : 0;

              // 進捗100%で黒文字を消す
              text.style.opacity = (progress < 1) ? 1 : 0;
            }

            window.addEventListener('scroll', updatePortfolioProgress, { passive: true });
            window.addEventListener('resize', updatePortfolioProgress);
            document.addEventListener('DOMContentLoaded', updatePortfolioProgress);
          })();
        </script>
        <!-- headerの描画とアニメーション定義 -->

        <!-- Two Column Layout（写真＋内容） -->
        <section id=PROFILE
          class="mt-8 mb-16 md:mt-8 grid grid-cols-1 lg:grid-cols-[300px_minmax(0,1fr)] gap-10 lg:gap-16">
          <aside class="order-1 lg:order-none mt-[64px] hidden lg:block sticky top-[316px] self-start">
            <figure class="w-[260px] max-w-full border border-gray-200 shadow-sm">
              <img class="block w-full h-auto" src="./img/01_about/kidosotaro.webp" alt="Portrait" />
            </figure>
          </aside>

          <!-- Right Column / Content（2つ目をベース＋1つ目の見出し階層） -->
          <div class="order-2 lg:order-none">
            <!-- ABOUT ME -->
            <section id="about-me" class="mb-[80px]">
              <h2 class="text-xl font-normal cap mt-[64px] hidden lg:block" data-cap="私について">ABOUT ME</h2>
              <figure class="mt-[16px] w-[260px] border border-gray-200 shadow-sm lg:hidden">
                <img class="block w-full h-auto" src="./img/01_about/kidosotaro.webp" alt="Portrait" />
              </figure>
              <div class="mt-[16px] lg:mt-[56px]">
                <div class="text-[32px] font-bold">城戸 双汰朗 <span
                    class="ml-2 align-baseline text-[16px] font-normal text-gray-500">kido sotaro</span></div>
                <p class="text-[16px] text-gray-600">情報科学芸術大学院大学 修士2年</p>
              </div>
              <p class="mt-[32px] text-[16px] text-gray-800 dark:text-zinc-200 leading-relaxed tracking-wide"
                style="line-height:24px;">
                2001年、熊本県生まれ。<br>
                小学生から高校生までは、競技バドミントンに熱中。<br>
                高校卒業後は県立大学大学に進学し、教育、情報工学を中心に実践的に学ぶ。<br>
                卒業と同時に、情報科教員免許を取得。<br>
                現在は、情報科学芸術大学院大学(IAMAS)に進学し、自身の興味関心を論文/作品/ワークショップなど、様々な形態でアウトプットしています。
              </p>
            </section>

            <!-- WORK EXPERIENCE（2つ目の内容を1つ目のタイムライン装飾に寄せる） -->
            <section id="work-experience" class="mb-[80px]">
              <h2 class="text-xl font-normal cap" data-cap="経歴">WORK EXPERIENCE</h2>
              <ol class="relative mt-[24px] border-l-2 border-zinc-300 dark:border-zinc-800 pl-6">
                <!-- item -->
                <li class="mb-[32px]">
                  <span
                    class="absolute -left-[6.9px] mt-[4px] h-3 w-3 rounded-full bg-zinc-800 dark:bg-zinc-200"></span>
                  <p class="text-sm text-zinc-500">2024/04 - 現在</p>
                  <p class="mt-[2px] mb-[8px] text-[20px]">情報科学芸術大学院大学　メディア表現研究科</p>
                  <p class="text-[15px] text-zinc-600 dark:text-zinc-300">実装力の先にある表現力を培うべく進学。現在は、人の顔（表情）をテーマに研究を行っている。
                  </p>
                </li>
                <li class="mb-[32px]">
                  <span
                    class="absolute -left-[6.9px] mt-[4px] h-3 w-3 rounded-full bg-zinc-800 dark:bg-zinc-200"></span>
                  <p class="text-sm text-zinc-500">2020/04 - 2024/03</p>
                  <p class="mt-[2px] mb-[8px] text-[20px]">熊本県立大学　総合管理学部 総合管理学科</p>
                  <p class="text-[15px] text-zinc-600 dark:text-zinc-300">[公共] [ビジネス] [情報]
                    領域を体系的に学びつつ、ゼミ選択を期に情報コースを専攻。石橋研究室に在籍。
                    人とコンピュータ、コンピュータとコンピュータとのインタラクション（相互作用）をテーマに研究に取り組む。情報科教員の免許を取得。</p>
                </li>
                <li>
                  <span
                    class="absolute -left-[6.9px] mt-[4px] h-3 w-3 rounded-full bg-zinc-800 dark:bg-zinc-200"></span>
                  <p class="text-sm text-zinc-500">2017/04 - 2020/03</p>
                  <p class="mt-[2px] mb-[8px] text-[20px]">熊本中央高等学校　普通科</p>
                  <p class="text-[15px] text-zinc-700 dark:text-zinc-300">地元を離れ、県内有数のバドミントン部強豪校に進学。3年間、寮生活を送る。
                    小学生から続けていたバドミントンだが、中学卒業まで目立った成績を残すことができず、苦悩。最後の高校総体にて団体戦レギュラー入り、県内3位入賞を果たす。</p>
                </li>
              </ol>
            </section>

            <!-- Research -->
            <section id="research" class="mb-[80px]">
              <h2 class="text-xl font-normal cap" data-cap="論文">Research</h2>
              <ul class="mt-[16px] space-y-2 text-[15px] text-gray-800 dark:text-zinc-200">
                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2025.4</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    福祉の視点　─福祉の技術プロジェクト─
                  </span>
                  <span
                    class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate transition duration-200 hover:scale-105 hover:shadow-glow hover:text-brand cursor-pointer"
                    style="transition:all .18s cubic-bezier(.4,0,.2,1);">
                    [情報科学芸術大学院大学紀要🔗]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.9</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    モバイル型入出力装置を用いたムービングライトとの新しいインタラクション
                  </span>
                  <span
                    class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate transition duration-200 hover:scale-105 hover:shadow-glow hover:text-brand cursor-pointer"
                    style="transition:all .18s cubic-bezier(.4,0,.2,1);">
                    [エンターテインメントコンピューティング🔗]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.9</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    耳研澄装置製造工場
                  </span>
                  <span
                    class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate transition duration-200 hover:scale-105 hover:shadow-glow hover:text-brand cursor-pointer"
                    style="transition:all .18s cubic-bezier(.4,0,.2,1);">
                    [Interverse Virtual Reality Challenge (IVRC) 2024🔗]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2023.3</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    観察力と表現力の向上を目的としたKinectによる動物動作のものまねシステム ～動物園での子ども向けイベントにおける実証実験をとおして～
                  </span>
                  <span
                    class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate transition duration-200 hover:scale-105 hover:shadow-glow hover:text-brand cursor-pointer"
                    style="transition:all .18s cubic-bezier(.4,0,.2,1);">
                    [映像表現・芸術科学フォーラム2023🔗]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2022.9</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    二人三腕脚
                  </span>
                  <span
                    class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate transition duration-200 hover:scale-105 hover:shadow-glow hover:text-brand cursor-pointer"
                    style="transition:all .18s cubic-bezier(.4,0,.2,1);">
                    [Interverse Virtual Reality Challenge (IVRC) 2022🔗]
                  </span>
                </li>
              </ul>

            </section>

            <!-- Exhibition / Workshop -->
            <section id="exhibition-workshop" class="mb-[80px]">
              <h2 class="text-xl font-normal cap" data-cap="展示／ワークショップ">Exhibition/Workshop</h2>
              <ul class="mt-[16px] space-y-2 text-[15px] text-gray-800 dark:text-zinc-200">
                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <!-- 日付（スマホ=左列 / PC=先頭、カンマなし） -->
                  <span class="whitespace-nowrap md:mr-2">2025.6</span>
                  <!-- 会場（PCのみ末尾にカンマ、1行強制＆長い時は省略） -->
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    あいちワークショップギャザリング mini 🔗
                  </span>
                  <!-- 作品タイトル（スマホ=2行目の左寄せ / PC=1行強制＆省略） -->
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    みる目・みせる目・みられる目
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2025.5</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    スイトピアテラス
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    め遊び...
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2025.2</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    あいちワークショップギャザリング mini 🔗
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    め遊び -びょ～んびょん編-
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.10</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    Interverse Virtual Reality Challenge (IVRC) 2024
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    耳研澄装置製造工場
                  </span>
                </li>
              </ul>
            </section>

            <!-- Production / Cooperation -->
            <section id="production-cooperation" class="mb-[80px]">
              <h2 class="text-xl font-normal cap" data-cap="制作協力">ProductionCooperation</h2>
              <ul class="mt-[16px] space-y-2 text-[15px] text-gray-800 dark:text-zinc-200">
                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2025.6</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    パンタグラフ 美術ワークショップ 「光の雨アニメーション」🔗
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [撮影/動画編集]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.1</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    Magic Lantern for meeting Kumamushi again（大橋美月）
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [Fusion360/3Dプリント]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.10</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    Phonoscape Project（FabCafe Kyoto）🔗
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [Unity/iOSアプリケーション]
                  </span>
                </li>
              </ul>
            </section>

            <!-- Award / License -->
            <section id="award-license" class="mb-[80px]">
              <h2 class="text-xl font-normal cap" data-cap="受賞">AWARD</h2>
              <ul class="mt-[16px] space-y-2 text-[15px] text-gray-800 dark:text-zinc-200">
                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.10</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    Interverse Virtual Reality Challenge (IVRC) 2024
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [青沼優介賞]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2024.9</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    Interverse Virtual Reality Challenge (IVRC) 2024
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [REAPSTAGE 進出/ヤマハ株式会社賞/CRI・ミドルウェア賞]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2023.3</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    映像表現・芸術科学フォーラム2023
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [優秀発表賞（口頭発表）]
                  </span>
                </li>

                <li
                  class="grid grid-cols-[auto,1fr] gap-x-2 items-baseline md:flex md:flex-nowrap md:items-baseline md:gap-x-2 md:min-w-0">
                  <span class="whitespace-nowrap md:mr-2">2019.6</span>
                  <span
                    class="break-words md:min-w-0 md:whitespace-nowrap md:truncate md:after:content-[','] md:after:ml-1">
                    熊本県高校総体2019 バドミントン競技
                  </span>
                  <span class="col-start-2 break-words md:col-start-auto md:min-w-0 md:whitespace-nowrap md:truncate">
                    [団体戦 3位入賞]
                  </span>
                </li>
              </ul>
            </section>

            <!-- Skills（2つ目の簡潔な構造＋文言は1つ目の見出し系） -->
            <section id="skills" class="mb-[0px]">
              <h2 class="text-xl font-normal cap" data-cap="スキル">SKILLS</h2>
              <div class="mt-[16px] grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <div class="text-sm text-gray-500">License</div>
                  <p class="mt-[4px] text-[15px]">高等学校教諭一種免許（情報）, 普通自動車第一種運転免許</p>
                  <div class="mt-[16px] text-sm text-gray-500">Tools</div>
                  <p class="mt-[4px] text-[15px]">Unity, TouchDesigner, Fusion360, Figma, Illustrator, Arduino IDE,
                    GitHub
                  </p>
                </div>
                <div>
                  <div class="text-sm text-gray-500">Coding</div>
                  <p class="mt-[4px] text-[15px]">C#, Python, HTML, CSS, C++, JavaScript</p>
                </div>
              </div>
            </section>
          </div>
        </section>

        <section class="blank pt-[48px] pb-[48px] md:pt-[96px] md:pb-[96px]">
          <!-- 空白 -->

        </section>

        <section id="works">
          <!-- ここに飛ぶとちょうどいい -->
        </section>

        <section>
          <section class="horizontal-section mx-auto max-w-6xl px-4 sm:px-6 lg:px-4">
            <div class="section-header" style="position: relative; height: 160px; max-width: 100%;">
              <style>
                @media (max-width: 640px) {
                  .section-header {
                    height: 120px !important;
                  }
                }
              </style>
              <div id="cooperationHeader" class="section-header-inner fade"
                style="position: absolute; left: 0; top: 0; width: 100%; transition: opacity .4s, visibility .4s;">
                <div class="flex items-center gap-2"></div>
              </div>
            </div>
            <div id="horizontalScroll" class="horizontal-scroll"></div>
          </section>
          <!-- ヘッダーを重ねて表示（上下ズレ防止のため絶対配置） -->

          <section class="pt-[96px] pb-[48px]">
            <!-- 空白 -->
          </section>

          <section id="contact">
            <div class="flex justify-end">
              <form id="contactForm" class="grid gap-3 max-w-[560px] w-full mt-[40px]" method="POST"
                action="https://formspree.io/f/xzzayorb" autocomplete="on">
                <!-- 会社名（任意） -->
                <div>
                  <label for="company" class="block text-sm font-medium text-zinc-700 mb-1">ご所属先</label>
                  <input id="company" name="company"
                    class="rounded-xl border px-3 py-2 bg-white/70 dark:bg-zinc-950/60 w-full" placeholder="会社名/学校名"
                    autocomplete="organization" />
                </div>
                <!-- 姓 -->
                <div>
                  <label for="lastName" class="block text-sm font-medium text-zinc-700 mb-1">姓 <span
                      class="text-red-500">*</span></label>
                  <input id="lastName" name="lastName"
                    class="rounded-xl border px-3 py-2 bg-white/70 dark:bg-zinc-950/60 w-full" placeholder="姓" required
                    autocomplete="family-name" />
                </div>
                <!-- 名 -->
                <div>
                  <label for="firstName" class="block text-sm font-medium text-zinc-700 mb-1">名 <span
                      class="text-red-500">*</span></label>
                  <input id="firstName" name="firstName"
                    class="rounded-xl border px-3 py-2 bg-white/70 dark:bg-zinc-950/60 w-full" placeholder="名" required
                    autocomplete="given-name" />
                </div>
                <!-- メールアドレス -->
                <div>
                  <label for="email" class="block text-sm font-medium text-zinc-700 mb-1">メールアドレス <span
                      class="text-red-500">*</span></label>
                  <input id="email" name="email" type="email"
                    class="rounded-xl border px-3 py-2 bg-white/70 dark:bg-zinc-950/60 w-full"
                    placeholder="your@email.com" required autocomplete="email" pattern="^[^@\s]+@[^@\s]+\.[^@\s]+$"
                    oninput="this.setCustomValidity(this.validity.patternMismatch ? '正しいメールアドレスを入力してください' : '');" />
                </div>
                <!-- 件名 -->
                <div>
                  <label for="msgSubject" class="block text-sm font-medium text-zinc-700 mb-1">件名 <span
                      class="text-red-500">*</span></label>
                  <input id="msgSubject" name="subject"
                    class="rounded-xl border px-3 py-2 bg-white/70 dark:bg-zinc-950/60 w-full" placeholder="件名"
                    required />
                </div>
                <!-- お問い合わせ内容 -->
                <div>
                  <label for="msgBody" class="block text-sm font-medium text-zinc-700 mb-1">お問い合わせ内容 <span
                      class="text-red-500">*</span></label>
                  <textarea id="msgBody" name="message"
                    class="rounded-xl border px-3 py-2 min-h-[80px] bg-white/70 dark:bg-zinc-950/60 w-full"
                    placeholder="お問い合わせ内容" required></textarea>
                </div>
                <button id="sendBtn"
                  class="justify-self-start rounded-2xl bg-brand px-4 py-2 text-white font-semibold shadow-glow disabled:opacity-50"
                  type="submit" disabled>送信</button>
              </form>
            </div>
          </section>
          <section class="pt-0 pb-[24px]">
            <!-- 空白 -->
          </section>
        </section>
      </section>
      <footer class="pt-5 pb-0 pr-0 text-right text-sm text-zinc-500">
        LastUpdated <span id="last-updated"></span>
      </footer>
    </div>
  </main>

  <script>
    // フッターに最終更新日を表示
    document.getElementById('last-updated').textContent = (function () {
      const d = new Date(document.lastModified);
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, '0');
      const day = String(d.getDate()).padStart(2, '0');
      return `${y}.${m}.${day}`;
    })();
  </script>

  <script src="js/site.js"></script>

  <script>
    if (menuBtn) {
      console.log('Adding click listener to menuBtn');
      menuBtn.addEventListener('click', function (e) {
        console.log('Menu button clicked!', e);
        if (mobileNav) {
          console.log('Before toggle - mobileNav classes:', mobileNav.className);
          mobileNav.classList.toggle('hidden');
          console.log('After toggle - mobileNav classes:', mobileNav.className);
        } else {
          console.error('mobileNav not found!');
        }
      });
    } else {
      console.error('menuBtn not found!');
    }
    // 不要なコメントや構文エラーを削除し、正しいスクリプトブロックに修正
    // 年号
    if (document.getElementById('y')) {
      document.getElementById('y').textContent = new Date().getFullYear();
    }
    // モバイルメニュー
    document.addEventListener('DOMContentLoaded', function () {
      const menuBtn = document.getElementById('menuBtn');
      const mobileNav = document.getElementById('mobileNav');
      if (menuBtn && mobileNav) {
        menuBtn.addEventListener('click', function () {
          mobileNav.classList.toggle('hidden');
        });
      }
    });
  </script>

  <script src="js/work-data.js"></script>

  <script>
    // 横スクロールカードHTML
    function cardHTML(w) {
      return `
          <article class="scroll-item group rounded-2xl border overflow-hidden bg-white/60 dark:bg-zinc-950/50 hover:shadow-lg transition">
            <a href="detail.html?slug=${w.slug}" class="block">
              <div class="ratio"><img src="${w.cover}" alt="${w.title}" loading="lazy"/></div>
              <div class="p-4">
                <div class="flex items-center justify-between text-xs text-zinc-500"><span>${w.year}</span><span>${w.tags.join(', ')}</span></div>
                <h3 class="mt-2 text-lg font-semibold group-hover:text-brand">${w.title}</h3>
                <p class="mt-1 text-sm text-zinc-600 dark:text-zinc-300">${w.summary}</p>
              </div>
            </a>
          </article>`;
    }

    // 横スクロール全体を描画
    function renderHorizontalScroll() {
      // 作品・協力を連結
      const allCards = [
        ...works.map(cardHTML),
        // indicatorHTML(),
        ...worksMore.map(cardHTML)
      ].join('');
      document.getElementById('horizontalScroll').innerHTML = allCards;
    }
    // 必ずDOMContentLoaded後に呼ぶ
    document.addEventListener('DOMContentLoaded', renderHorizontalScroll);

    // ========== 横スクロールGSAP ==========

    document.addEventListener('DOMContentLoaded', function () {
      // GSAP/ScrollTriggerが読み込まれているかチェック
      if (typeof gsap === "undefined" || typeof ScrollTrigger === "undefined") {
        console.error("GSAP or ScrollTrigger is not loaded!");
        return;
      }

      const horizontalSection = document.querySelector('.horizontal-section');
      const horizontalScroll = document.getElementById('horizontalScroll');
      const worksHeader = document.getElementById('worksHeader');
      const cooperationHeader = document.getElementById('cooperationHeader');

      // works, indicator, cooperationのカード数
      const worksCount = works.length;
      const indicatorCount = 1;
      const cooperationCount = worksMore.length;

      // 各カードの幅を取得
      function getCardWidth(idx) {
        const item = horizontalScroll.children[idx];
        if (!item) return 0;
        return item.getBoundingClientRect().width + parseFloat(getComputedStyle(item).marginRight || 0);
      }

      // works+indicatorまでの幅
      function getWorksScrollWidth() {
        let w = 0;
        for (let i = 0; i < worksCount + indicatorCount; ++i) {
          w += getCardWidth(i);
        }
        return w;
      }

      function setupHorizontalScroll() {
        // 既存のScrollTriggerをkill
        ScrollTrigger.getAll().forEach(st => st.kill());

        // 横スクロールセクションの幅を取得
        const sectionRect = horizontalSection.getBoundingClientRect();
        const sectionWidth = sectionRect.width;

        // 最後のカードが画面内に完全に入るように、sectionの幅を使う
        const lastCardIdx = horizontalScroll.children.length - 1;
        const lastCard = horizontalScroll.children[lastCardIdx];
        let lastCardWidth = 0;
        if (lastCard) {
          lastCardWidth = lastCard.getBoundingClientRect().width + parseFloat(getComputedStyle(lastCard).marginRight || 0);
        }
        // 横スクロールの最大移動量
        const maxScrollX = Math.max(0, horizontalScroll.scrollWidth - sectionWidth);

        gsap.to(horizontalScroll, {
          x: () => {
            // 横スクロールの最大移動量
            return -maxScrollX;
          },
          ease: "none",
          scrollTrigger: {
            trigger: horizontalSection,
            start: "top top+=120", // header+header下部分
            end: () => `+=${maxScrollX}`,
            scrub: 1,
            pin: true,
            anticipatePin: 1,
            invalidateOnRefresh: true,
            pinSpacing: true,
            onUpdate: (self) => {
              // worksとcooperationの切り替え
              const worksEnd = getWorksScrollWidth() - horizontalSection.offsetWidth * 0.5;
              const scrollX = -gsap.getProperty(horizontalScroll, "x");
              if (scrollX < worksEnd) {
                worksHeader.classList.add('show');
                worksHeader.classList.remove('fade');
                cooperationHeader.classList.add('fade');
                cooperationHeader.classList.remove('show');
              } else {
                worksHeader.classList.remove('show');
                worksHeader.classList.add('fade');
                cooperationHeader.classList.remove('fade');
                cooperationHeader.classList.add('show');
              }
            }
          }
        });

        // 各アイテムのフェードインアニメーション
        const scrollItems = horizontalScroll.querySelectorAll('.scroll-item');
        scrollItems.forEach((item, index) => {
          gsap.fromTo(item,
            {
              opacity: 0,
              y: 50,
              scale: 0.8
            },
            {
              opacity: 1,
              y: 0,
              scale: 1,
              duration: 0.6,
              delay: index * 0.1,
              ease: "back.out(1.7)",
              scrollTrigger: {
                trigger: item,
                start: "top 80%",
                end: "bottom 20%",
                toggleActions: "play none none reverse"
              }
            }
          );
        });

        // ホバー効果
        scrollItems.forEach(item => {
          item.addEventListener('mouseenter', function () {
            gsap.to(this, {
              scale: 1.05,
              duration: 0.3,
              ease: "power2.out"
            });
          });
          item.addEventListener('mouseleave', function () {
            gsap.to(this, {
              scale: 1,
              duration: 0.3,
              ease: "power2.out"
            });
          });
        });

        // スクロール進捗の表示（デバッグ用）
        // ScrollTrigger.create({
        //   trigger: horizontalSection,
        //   start: "top top+=120",
        //   end: () => `+=${horizontalScroll.scrollWidth - horizontalSection.offsetWidth}`,
        //   onUpdate: (self) => {
        //     console.log("Scroll Progress:", self.progress);
        //   }
        // });
      }

      // 初回セットアップ
      setTimeout(setupHorizontalScroll, 200);

      // リサイズ時に再セットアップ
      window.addEventListener('resize', () => {
        ScrollTrigger.getAll().forEach(st => st.kill());
        setTimeout(setupHorizontalScroll, 200);
      });
    });
  </script>

</body>

</html>